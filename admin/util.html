<template name="tsBatchSelector">
    <label>Filter Batch:</label>
    <select class="form-control">
        <option disabled selected={{noBatchSelection}}></option>
        {{#each batches}}
        <option value="{{_id}}" selected={{selected}}>{{name}}</option>
        {{/each}}
    </select>
</template>

<template name="tsBatchMessage">
    {{#with _tsViewingBatch}}
    <div class="alert alert-info">
        {{> UI.contentBlock this}}
    </div>
    {{else}}
    <div class="alert alert-warning">
        No batch selected. Choose one above.
    </div>
    {{/with}}
</template>

<template name="tsAdminGroupInfo">
    <dl class="dl-horizontal ts-compact">
        <dt>Group:</dt>
        <dd>{{_id}}</dd>
        <dt>Treatments:</dt>
        <dd>
            {{#each treatments}}
            <span class="badge badge-inverse">{{this}}</span>
            {{/each}}
        </dd>
        <dt>Users:</dt>
        <dd>
            {{#each users}}
            {{> tsUserPill userId=this}}
            {{/each}}
        </dd>
    </dl>
</template>

<template name="tsInstancePill">
    {{#with instance}}
    <div class="ts-instance-pill-container">
        <span class="label label-primary">
            <span class="glyphicon glyphicon-tasks"></span>
            {{users.length}}
        </span>
    </div>
    {{/with}}
</template>

<template name="tsUserPill">
    {{#with user}}
    <div class="ts-user-pill-container">
        <span class="label {{labelClass}}">{{identifier}}</span>
    </div>
    {{/with}}
</template>

<template name="tsUserPillPopover">
    <b class="text-info">{{_id}}</b>
    <dl class="ts-compact">
        <dt>Username:</dt>
        <dd>{{#if username}}
            {{username}}
            {{else}}
            <i class="muted">(none)</i>
            {{/if}}
        </dd>
        <dt>WorkerId:</dt>
        <dd>{{#if workerId}}
            {{workerId}}
            {{else}}
            <i class="muted">(none)</i>
            {{/if}}
        </dd>
        <dt>Last login:</dt>
        <dd>{{_tsRenderTime status.lastLogin}}</dd>
        <dt>Current state:</dt>
        <dd>{{turkserver.state}}</dd>
    </dl>

    {{#if status.online}}
        {{#unless status.idle}}
        <b class="text-success">Connected</b>
        {{else}}
        <b class="text-warning">Connected - Idle</b>
        {{/unless}}
    {{else}}
    <b class="text-danger">Disconnected</b>
    {{/if}}
</template>

<template name="tsTreatmentPill">
    <span class="badge badge-inverse">{{name}}</span>
</template>

<template name="tsTreatmentDeletePill">
    <span class="badge badge-inverse">{{name}}
        <span class="glyphicon glyphicon-remove -ts-remove-batch-treatment"></span>
    </span>
</template>

<template name="tsDescList">
    <dl class="dl-horizontal ts-compact">
        {{#each properties}}
        <dt>{{key}}</dt>
        <dd>{{value}}</dd>
        {{/each}}
    </dl>
</template>
